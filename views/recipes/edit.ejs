<%- include('../partials/header.ejs'); %>

<!-- THIS IS GETTING THE RENDER's PROPERTIES FROM THE CONTROLLER -->

<h1> <%= recipe.title %></h1>
<h4> <%= recipe.prepTime %></h4>
<ul>
    <li>
      <%= ingredients %>
    </li>
</ul>

<form action="/recipes/<%= recipe._id%>?_method=PUT" method="POST">
    <div class="form-group">
      <label>Recipe Name</label>
      <input type="text" class="form-control" name="title" value="<%= recipe.title%>" placeholder="<%= recipe.title %>">
      <small class="form-text text-muted">Small Caption under the Input Bar.</small>
    </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Preparation Time</label>
      <input type="text" class="form-control" name="prepTime" value="<%= recipe.prepTime%>" placeholder="<%= recipe.prepTime %>">
    </div>
    <div class="form-group">
        <label for="">Instructions</label>
        <input type="text" class="form-control" id="" name="instructions" placeholder="<%= recipe.instructions %>">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  
  <form action="/recipes/<%=recipe._id%>/ingredient?_method=PUT" method="POST">
    
    <div class="form-group">
        <label>Select Ingredients</label>
        <select multiple class="form-control" id="exampleFormControlSelect2" name="ingredients">

          <% ingredient.forEach(i => { %>
            <option name="name" value="<%=i%>"><%=i.name%><%=i%></option>
          <% }); %>

        </select>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>

  </form>



<%= ingredient %>
  <%= recipe.reqIngredients %>

    <%- include('../partials/footer.ejs'); %>